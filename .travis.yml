language: node_js
services:
  - redis-server
addons:
  apt:
    packages:
      - redis-server
node_js:
- '6'
before_install:
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
install:
- npm install -g jsdoc
- npm install
script:
- ./ci/build.js
- ./ci/shim.js
- ./ci/test.js
- ./ci/benchmark.js
- ./ci/doc.js
after_success:
- ./ci/travis/publish.js
- ./ci/travis/push_sugos.js
