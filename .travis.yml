language: node_js
services:
  - redis-server
addons:
  apt:
    packages:
      - redis-server
node_js:
- '6'
before_install:
- npm i npm-cli-login -g
- echo "NPM_USER=${NPM_USER}"
- npm-cli-login -u "${NPM_USER}" -p "${NPM_PASSWORD}" -e "${NPM_EMAIL}"
install:
- npm install -g jsdoc
- npm install
script:
- ./ci/build.js
- ./ci/shim.js
- ./ci/test.js
- ./ci/benchmark.js
- ./ci/doc.js
after_success:
- ./ci/travis/publish.js
- ./ci/travis/push_sugos.js
